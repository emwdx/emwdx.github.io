<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Speed Meeting</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root {
      --custom-primary-light: #eafce2;
      --custom-primary: #c5eab2;
      --custom-primary-bright: #b2ff8b;
      --custom-primary-darker: #89be6d;
      --custom-box-bg: #f4f3e8;
    }

    body {
      background-color: var(--bs-white);
      font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
        Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
    }

    h1 {
      font-weight: 800;
    }

    .setup-card,
    .controls-card,
    .content-card {
      background-color: var(--custom-box-bg);
      border: none;
      border-radius: 1rem;
    }

    .setup-card .form-control,
    .setup-card .form-select,
    .setup-card .input-group-text {
      border-radius: 0.5rem;
      border: 1px solid var(--bs-white);
    }

    .setup-card .form-control:focus,
    .setup-card .form-select:focus {
      border-color: var(--custom-primary-darker);
      box-shadow: 0 0 0 0.25rem rgba(137, 190, 109, 0.5);
    }

    #studentNames.form-control {
      border-radius: 1rem;
      background-color: #fff;
      border: 1px solid #fff;
      padding: 1rem;
      min-height: 260px;
    }

    #studentNames::-webkit-scrollbar {
      width: 10px;
    }

    #studentNames::-webkit-scrollbar-track {
      background: transparent;
    }

    #studentNames::-webkit-scrollbar-thumb {
      background-color: var(--custom-primary);
      border-radius: 20px;
      border: 3px solid var(--bs-white);
    }

    .btn {
      border-radius: 50rem;
      font-weight: 600;
      padding: 0.75rem 1.25rem;
    }

    .btn-start-activity {
      background-color: var(--custom-primary-bright);
      color: var(--bs-black);
      border: none;
    }

    .btn-start-activity:hover {
      background-color: var(--custom-primary-darker);
      color: var(--bs-black);
    }

    .btn-save {
      background-color: transparent;
      border: none;
      color: var(--custom-primary-darker);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1rem;
    }

    .btn-save:hover {
      background-color: rgba(0, 0, 0, 0.05);
      color: var(--custom-primary-darker);
    }

    .btn-pulse {
      padding: 1rem 2rem;
      font-size: 1.25rem;
      box-shadow: 0 0 0 0 rgba(178, 255, 139, 1);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(0.97);
        box-shadow: 0 0 0 0 rgba(178, 255, 139, 0.7);
      }
      70% {
        transform: scale(1);
        box-shadow: 0 0 0 25px rgba(178, 255, 139, 0);
      }
      100% {
        transform: scale(0.97);
        box-shadow: 0 0 0 0 rgba(178, 255, 139, 0);
      }
    }

    /* Pairing grid + cards */
    #pairingContainer {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 1.5rem;
      min-height: 50vh;
      align-content: start;
    }

    .group-card {
      border-radius: 0.5rem;
      border: none;
      background-color: #fff;
      height: 100%;
    }

    .group-card .card-header {
      border-radius: 0.5rem 0.5rem 0 0;
      height: 8px;
      padding: 0;
      border-bottom: none;
    }

    .group-card .card-title {
      font-weight: 700;
      margin-top: 0.5rem;
      font-size: 1.1rem;
      text-align: center;
    }

    .group-card .list-unstyled li {
      text-align: left;
      font-size: 1.05rem;
      padding-left: 1.25rem;
      margin-top: 0.25rem;
    }

    .final-message-container {
      grid-column: 1 / -1;
    }

    /* Timer */
    .timer-wrap {
      position: relative;
      width: 260px;
      height: 260px;
      margin: 0 auto;
    }

    #timer-canvas {
      width: 100%;
      height: 100%;
    }

    #timer-display {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      font-weight: 800;
      font-size: 2.25rem;
    }

    .status-pill {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      font-weight: 700;
      border-radius: 2rem;
    }

    .status-transition {
      background: #ffe8a3;
      color: #5f4c00;
    }

    .status-meet {
      background: #c7ffd0;
      color: #0d5b1f;
    }

    /* Report tables */
    .report-card .list-group-item,
    #reportModal .list-group-item {
      background-color: var(--custom-box-bg);
    }
  </style>
</head>
<body class="p-3">
  <div class="container">
    <h1 class="text-center my-4">Student Pairing Tool</h1>

    <!-- SETUP SCREEN -->
    <section id="setupScreen">
      <div class="card setup-card p-4 mx-auto" style="max-width: 980px;">
        <div class="row g-4">
          <div class="col-md-7">
            <div class="d-flex flex-column h-100">
              <div class="mb-3">
                <label class="form-label fw-bold">Choose Class</label>
                <div class="input-group">
                  <select class="form-select" id="classDropdown">
                    <option selected>New Class</option>
                  </select>
                  <button class="btn btn-outline-secondary btn-sm" id="addNewClassButton" type="button" title="Add New Class">+</button>
                  <button class="btn btn-outline-danger btn-sm" id="deleteClassButton" type="button" title="Delete Selected Class">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/></svg>
                  </button>
                </div>
              </div>
              <label for="studentNames" class="form-label fw-bold">Enter Students</label>
              <textarea id="studentNames" class="form-control flex-grow-1" placeholder="Olivia&#10;Liam&#10;Sophia&#10;Jackson&#10;Ava"></textarea>
            </div>
          </div>
          <div class="col-md-5 d-flex flex-column">
            <div>
              <label class="form-label fw-bold">Total Activity Time</label>
              <div class="input-group mb-3">
                <input type="number" id="totalTimeMinutes" value="1" min="0" class="form-control text-center" />
                <span class="input-group-text">min</span>
                <input type="number" id="totalTimeSeconds" value="0" min="0" max="59" class="form-control text-center" />
                <span class="input-group-text">sec</span>
              </div>
            </div>
            <div>
              <label class="form-label fw-bold">Group Meeting Time</label>
              <div class="input-group mb-3">
                <input type="number" id="groupTimeMinutes" value="0" min="0" class="form-control text-center" />
                <span class="input-group-text">min</span>
                <input type="number" id="groupTimeSeconds" value="25" min="0" max="59" class="form-control text-center" />
                <span class="input-group-text">sec</span>
              </div>
            </div>
            <div>
              <label class="form-label fw-bold">Transition Time</label>
              <div class="input-group mb-3">
                <input type="number" id="transitionTimeSeconds" value="10" min="0" max="120" class="form-control text-center" />
                <span class="input-group-text">sec</span>
              </div>
            </div>
            <div class="mt-auto">
              <button class="btn btn-start-activity btn-lg w-100" id="startButton">Start Activity</button>
              <button class="btn btn-save w-100 mt-2" id="saveClassButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v4.5h2a.5.5 0 0 1 .354.854l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5A.5.5 0 0 1 5.5 6.5h2V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"/></svg>
                Save Class
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ACTIVITY SCREEN -->
    <section id="activityScreen" class="d-none">
      <div class="row g-4">
        <aside class="col-lg-3 d-flex flex-column gap-3">
          <div class="card controls-card text-center p-3">
            <div class="timer-wrap">
              <canvas id="timer-canvas" width="280" height="280"></canvas>
              <div id="timer-display">00:00</div>
            </div>
            <div class="mt-3">
              <span id="statusPill" class="status-pill status-transition">Get Ready</span>
            </div>
          </div>

          <div class="card controls-card text-center p-3">
            <div class="d-grid gap-2">
              <button class="btn btn-secondary" id="pauseResumeBtn">Pause</button>
              <button class="btn btn-secondary" id="regroupBtn">Regroup Now</button>
              <button class="btn btn-danger" id="endActivityBtn">End Activity</button>
            </div>
          </div>
        </aside>
        <main class="col-lg-9">
          <div class="card content-card p-4 h-100">
            <div id="pairingContainer">
              <!-- dynamic groups -->
              <div id="startOverlay" class="final-message-container d-flex flex-column justify-content-center align-items-center h-100">
                <h3 class="mb-3">Your activity is ready!</h3>
                <button id="startRoundBtn" class="btn btn-start-activity btn-pulse">Start First Round</button>
              </div>
            </div>
          </div>
        </main>
      </div>
    </section>

    <!-- REPORT SCREEN -->
    <section id="reportScreen" class="d-none">
      <div class="card content-card p-4 mx-auto" style="max-width: 1000px;">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <h3 class="mb-0">Activity Report</h3>
          <button id="runAgainBtn" class="btn btn-secondary">Run Again</button>
        </div>
        <div class="row g-4">
          <div class="col-lg-6">
            <div class="card report-card h-100">
              <div class="card-body">
                <h5 class="card-title">Pairings by Round</h5>
                <div id="roundsReport" class="list-group list-group-flush"></div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card report-card h-100">
              <div class="card-body">
                <h5 class="card-title">Individual Meeting Summary</h5>
                <ul id="individualReport" class="list-group list-group-flush"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // ---------- STATE + DOM -----------
    const STORAGE_KEY = 'studentPairingClasses_v2';

    const setupScreen = document.getElementById('setupScreen');
    const activityScreen = document.getElementById('activityScreen');
    const reportScreen = document.getElementById('reportScreen');

    const startButton = document.getElementById('startButton');
    const saveClassButton = document.getElementById('saveClassButton');
    const deleteClassButton = document.getElementById('deleteClassButton');
    const addNewClassButton = document.getElementById('addNewClassButton');
    const classDropdown = document.getElementById('classDropdown');
    const studentNamesTextarea = document.getElementById('studentNames');

    const startRoundBtn = document.getElementById('startRoundBtn');
    const pauseResumeBtn = document.getElementById('pauseResumeBtn');
    const regroupBtn = document.getElementById('regroupBtn');
    const endActivityBtn = document.getElementById('endActivityBtn');
    const runAgainBtn = document.getElementById('runAgainBtn');

    const timerCanvas = document.getElementById('timer-canvas');
    const ctx = timerCanvas.getContext('2d');
    const timerDisplay = document.getElementById('timer-display');
    const statusPill = document.getElementById('statusPill');

    const pairingContainer = document.getElementById('pairingContainer');

    let totalTimeInSeconds = 0,
      groupTimeInSeconds = 0,
      transitionTimeInSeconds = 0,
      currentPhaseTime = 0,
      totalRemaining = 0,
      phase = 'transition', // 'transition' | 'meet'
      round = 0,
      paused = true,
      loopInterval = null;

    const cardColors = ['#ff5f5f', '#625fff', '#5fff6f', '#ffbf5f', '#03af8d', '#6e5ef8', '#45a3ff', '#ab68e2'];

    let students = [];
    let pairingHistory = {}; // per-student set
    let roundsHistory = []; // array of arrays of groups per round

    // ---------- CLASS STORAGE -----------
    function getSavedClasses() {
      return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
    }
    function saveClasses(classes) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(classes));
    }
    function populateClassDropdown() {
      const classes = getSavedClasses();
      const currentVal = classDropdown.value;
      classDropdown.innerHTML = '<option selected>New Class</option>';
      for (const className in classes) {
        const option = document.createElement('option');
        option.value = className;
        option.textContent = className;
        classDropdown.appendChild(option);
      }
      if (classes[currentVal]) classDropdown.value = currentVal;
    }

    function handleSaveClass() {
      const list = studentNamesTextarea.value
        .split('\n')
        .map((n) => n.trim())
        .filter(Boolean);
      if (list.length === 0) {
        alert('Please enter student names before saving.');
        return;
      }
      const className = prompt(
        'Enter a name for this class:',
        classDropdown.value !== 'New Class' ? classDropdown.value : ''
      );
      if (!className) return;
      const classes = getSavedClasses();
      classes[className] = list;
      saveClasses(classes);
      populateClassDropdown();
      classDropdown.value = className;
      alert(`Class "${className}" saved!`);
    }

    function handleDeleteClass() {
      const selectedClass = classDropdown.value;
      if (selectedClass === 'New Class') {
        alert("Cannot delete 'New Class'. Select a saved class to delete.");
        return;
      }
      if (confirm(`Delete the class "${selectedClass}"? This cannot be undone.`)) {
        const classes = getSavedClasses();
        delete classes[selectedClass];
        saveClasses(classes);
        classDropdown.innerHTML = '<option selected>New Class</option>';
        populateClassDropdown();
        studentNamesTextarea.value = '';
      }
    }
    function handleAddNewClass() {
      classDropdown.value = 'New Class';
      studentNamesTextarea.value = '';
      studentNamesTextarea.focus();
    }
    function handleClassChange() {
      const selectedClass = classDropdown.value;
      if (selectedClass === 'New Class') {
        studentNamesTextarea.value = '';
      } else {
        const classes = getSavedClasses();
        studentNamesTextarea.value = (classes[selectedClass] || []).join('\n');
      }
    }

    // ---------- ACTIVITY LIFECYCLE -----------
    function initActivity() {
      const totalMinutes = parseInt(document.getElementById('totalTimeMinutes').value) || 0;
      const totalSeconds = parseInt(document.getElementById('totalTimeSeconds').value) || 0;
      const groupMinutes = parseInt(document.getElementById('groupTimeMinutes').value) || 0;
      const groupSeconds = parseInt(document.getElementById('groupTimeSeconds').value) || 0;
      const transitionSeconds = parseInt(document.getElementById('transitionTimeSeconds').value) || 0;

      totalTimeInSeconds = totalMinutes * 60 + totalSeconds;
      groupTimeInSeconds = groupMinutes * 60 + groupSeconds;
      transitionTimeInSeconds = transitionSeconds;

      const names = studentNamesTextarea.value
        .split('\n')
        .map((n) => n.trim())
        .filter(Boolean);

      if (groupTimeInSeconds <= 0 || totalTimeInSeconds <= 0) {
        alert('Timers must be set to a value greater than zero.');
        return;
      }
      if (totalTimeInSeconds < groupTimeInSeconds) {
        alert('Total activity time must be \u2265 group time.');
        return;
      }
      if (names.length < 2) {
        alert('Please enter at least two student names.');
        return;
      }

      students = names;
      pairingHistory = {};
      students.forEach((s) => (pairingHistory[s] = new Set()));
      roundsHistory = [];

      // Screen switch
      setupScreen.classList.add('d-none');
      reportScreen.classList.add('d-none');
      activityScreen.classList.remove('d-none');

      // Timer + UI reset
      totalRemaining = totalTimeInSeconds;
      paused = true; // wait for Start First Round
      phase = 'transition';
      round = 0;
      currentPhaseTime = transitionTimeInSeconds || 3; // tiny pre-roll
      setStatus('transition');
      drawTimer(1, '#ffc107');
      timerDisplay.textContent = formatTime(totalRemaining);

      // Prepare pairing container
      pairingContainer.innerHTML = `
        <div id="startOverlay" class="final-message-container d-flex flex-column justify-content-center align-items-center h-100">
          <h3 class="mb-3">Your activity is ready!</h3>
          <button id="startRoundBtn" class="btn btn-start-activity btn-pulse">Start First Round</button>
        </div>`;
      document.getElementById('startRoundBtn').addEventListener('click', () => {
        paused = false;
        nextRound(); // creates round + sets transition
        if (loopInterval) clearInterval(loopInterval);
        loopInterval = setInterval(mainLoop, 1000);
      });
    }

    function mainLoop() {
      if (paused) return;

      // totalRemaining only ticks during meet or transition (not after finished)
      if (totalRemaining > 0) totalRemaining--;
      timerDisplay.textContent = formatTime(totalRemaining);

      currentPhaseTime--;
      if (currentPhaseTime <= 0) {
        if (phase === 'transition') {
          // start the meet phase
          phase = 'meet';
          setStatus('meet');
          currentPhaseTime = groupTimeInSeconds;
        } else if (phase === 'meet') {
          // End of a meeting window
          if (totalRemaining <= 0) {
            endActivity();
            return;
          }
          nextRound();
        }
      }
      // Draw timer according to phase
      const pct = phase === 'transition'
        ? Math.max(currentPhaseTime / Math.max(transitionTimeInSeconds, 1), 0)
        : Math.max(currentPhaseTime / groupTimeInSeconds, 0);
      drawTimer(pct, phase === 'transition' ? '#ffc107' : '#28a745');
    }

    function endActivity() {
      clearInterval(loopInterval);
      activityScreen.classList.add('d-none');
      buildReport();
      reportScreen.classList.remove('d-none');
    }

    function runAgain() {
      reportScreen.classList.add('d-none');
      setupScreen.classList.remove('d-none');
    }

    // ---------- PAIRS + ROUNDS -----------
    function nextRound() {
      round++;
      phase = 'transition';
      setStatus('transition');
      currentPhaseTime = Math.max(transitionTimeInSeconds, 1);

      // Create pairings for the upcoming round and render
      const groups = generateGroupsAvoidingRepeats();
      roundsHistory.push(groups.map((g) => [...g]));
      renderGroups(groups);
    }

    function generateGroupsAvoidingRepeats() {
      const unpaired = [...students];
      const groups = [];

      while (unpaired.length > 0) {
        if (unpaired.length === 3) {
          groups.push([...unpaired]);
          unpaired.length = 0;
          break;
        }
        const student1 = unpaired.shift();
        // Prefer fresh partners
        const fresh = unpaired.filter((p) => !pairingHistory[student1].has(p));
        const partner = (fresh.length > 0 ? fresh : unpaired)[
          Math.floor(Math.random() * (fresh.length > 0 ? fresh.length : unpaired.length))
        ];
        groups.push([student1, partner]);
        // remove partner from unpaired
        const idx = unpaired.indexOf(partner);
        if (idx !== -1) unpaired.splice(idx, 1);
      }

      // Update history
      groups.forEach((group) => {
        group.forEach((s1) =>
          group.forEach((s2) => {
            if (s1 !== s2) pairingHistory[s1].add(s2);
          })
        );
      });

      return groups;
    }

    function renderGroups(groups) {
      pairingContainer.innerHTML = '';
      groups.forEach((group, index) => {
        const color = cardColors[index % cardColors.length];
        const card = document.createElement('div');
        card.className = 'group-card card';
        card.innerHTML = `
          <div class="card-header" style="background-color:${color}"></div>
          <div class="card-body">
            <h5 class="card-title">Group ${index + 1}</h5>
            <ul class="list-unstyled mb-0">${group
              .map((n) => `<li>${n}</li>`)
              .join('')}</ul>
          </div>`;
        pairingContainer.appendChild(card);
      });
    }

    // ---------- TIMER DRAWING -----------
    function drawTimer(percentage, color = '#28a745') {
      const dpr = window.devicePixelRatio || 1;
      const sizeCSS = 280; // css px
      timerCanvas.width = sizeCSS * dpr;
      timerCanvas.height = sizeCSS * dpr;
      timerCanvas.style.width = sizeCSS + 'px';
      timerCanvas.style.height = sizeCSS + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      ctx.clearRect(0, 0, sizeCSS, sizeCSS);
      const cx = sizeCSS / 2;
      const cy = sizeCSS / 2;
      const radius = sizeCSS / 2 - 16;

      // background ring
      ctx.beginPath();
      ctx.arc(cx, cy, radius, 0, 2 * Math.PI);
      ctx.strokeStyle = '#e9ecef';
      ctx.lineWidth = 16;
      ctx.stroke();

      // progress arc
      ctx.beginPath();
      const startAngle = -Math.PI / 2;
      const endAngle = startAngle + 2 * Math.PI * Math.max(Math.min(percentage, 1), 0);
      ctx.arc(cx, cy, radius, startAngle, endAngle);
      ctx.strokeStyle = color;
      ctx.lineCap = 'round';
      ctx.lineWidth = 16;
      ctx.stroke();
    }

    function setStatus(type) {
      if (type === 'transition') {
        statusPill.className = 'status-pill status-transition';
        statusPill.textContent = `Round ${Math.max(round, 1)}: Find your partner!`;
      } else {
        statusPill.className = 'status-pill status-meet';
        statusPill.textContent = `Round ${round}: Meet!`;
      }
    }

    // ---------- REPORT -----------
    function buildReport() {
      const roundsReport = document.getElementById('roundsReport');
      roundsReport.innerHTML = '';

      roundsHistory.forEach((groups, i) => {
        const item = document.createElement('div');
        item.className = 'list-group-item';
        item.innerHTML = `<div class="fw-bold mb-1">Round ${i + 1}</div>
          ${groups.map((g) => g.join(' & ')).join('<br>')}`;
        roundsReport.appendChild(item);
      });

      // Individual summary
      const byStudent = {};
      students.forEach((s) => (byStudent[s] = new Set()));
      roundsHistory.forEach((groups) => {
        groups.forEach((g) => {
          g.forEach((s1) => g.forEach((s2) => s1 !== s2 && byStudent[s1].add(s2)));
        });
      });

      const individualReport = document.getElementById('individualReport');
      individualReport.innerHTML = '';
      Object.keys(byStudent)
        .sort((a, b) => a.localeCompare(b))
        .forEach((name) => {
          const li = document.createElement('li');
          li.className = 'list-group-item d-flex justify-content-between align-items-center';
          li.innerHTML = `<span class="fw-bold">${name}</span><span>${Array.from(byStudent[name]).join(', ') || '—'}</span>`;
          individualReport.appendChild(li);
        });
    }

    // ---------- HELPERS -----------
    function formatTime(sec) {
      const m = Math.floor(Math.max(sec, 0) / 60);
      const s = Math.max(sec, 0) % 60;
      return `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
    }

    // ---------- EVENTS -----------
    startButton.addEventListener('click', initActivity);
    pauseResumeBtn.addEventListener('click', () => {
      paused = !paused;
      pauseResumeBtn.textContent = paused ? 'Resume' : 'Pause';
    });
    regroupBtn.addEventListener('click', () => {
      if (paused) paused = false;
      nextRound();
    });
    endActivityBtn.addEventListener('click', endActivity);
    runAgainBtn.addEventListener('click', runAgain);

    saveClassButton.addEventListener('click', handleSaveClass);
    deleteClassButton.addEventListener('click', handleDeleteClass);
    addNewClassButton.addEventListener('click', handleAddNewClass);
    classDropdown.addEventListener('change', handleClassChange);

    // boot
    populateClassDropdown();
  </script>
</body>
</html>
